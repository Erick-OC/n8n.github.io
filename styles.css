/* ===================================
   Variables + Reset
=================================== */
:root{
  --blue-100:#e8f0fe;
  --blue-200:#d9ecf9;
  --blue-300:#c6e2f5;
  --blue-600:#2f6da4;   /* azul barra */
  --blue-700:#1f4d73;   /* línea/borde inferior */
  --border:#d9e1ea;
  --text:#1f2d3d;
  --bg:#ffffff;
  --side:#f7fafc;
}

*{ box-sizing:border-box; }
html, body{
  height:100%;
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  color:var(--text);
  background:var(--bg);
}

/* ===================================
   HEADER en 3 franjas (con columna de logo)
=================================== */
.header{
  display:grid;
  grid-template-columns: 300px 1fr; /* izquierda: logo | derecha: contenido */
  grid-template-rows: auto 2px auto; /* franja sup | separador | franja inf */
  background: var(--blue-600);
  color:#fff;
  border-bottom: 2px solid var(--blue-700);
  min-height: 76px;
  column-gap: 12px;
  padding: 6px 12px;
}

/* Columna izquierda: ocupa las dos franjas (superior e inferior) */
.header-brand{
  grid-row: 1 / 4;     /* ocupa 3 filas (incluye la línea separadora) */
  grid-column: 1;
  display:flex;
  align-items:center;
  justify-content:flex-start;
}
.brand-plate{
  height:48px; width:auto; object-fit:contain; display:block;
}
/* si solo tienes escudo pequeño */
.logo-img{ width:44px; height:44px; object-fit:cover; border-radius:4px; }

/* Franja superior (título + fecha/hora derecha) */
.header-top{
  grid-column: 2;
  grid-row: 1;
  display:grid;
  grid-template-columns: 1fr auto; /* título centrado | datetime a la derecha */
  align-items:center;
  padding: 2px 4px 6px 0;
}
.header-title{
  margin:0;
  text-align:center;
  font-size:18px;
  font-weight:800;
  letter-spacing:.2px;
  color:#fff;
}
.header-top-right{
  display:flex; align-items:center; justify-content:flex-end;
  font-size:12px; opacity:.95;
}
.datetime{ white-space:nowrap; }

/* Línea separadora */
.header-sep{
  grid-column: 2;
  grid-row: 2;
  height:2px;
  background: rgba(255,255,255,.75);
  border-radius:2px;
}

/* Franja inferior (usuario | rol | cerrar sesión) */
.header-bottom{
  grid-column: 2;
  grid-row: 3;
  display:grid;
  grid-template-columns: 1fr auto auto; /* izq | centro | der */
  align-items:center;
  gap: 12px;
  padding: 4px 0 4px 0;
  font-size:12px;
}
.header-bottom-left{ min-width:0; }
.user{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.header-bottom-center{
  display:flex; align-items:center; gap:8px;
}
.rol-label{ opacity:.95; }
.rol{
  border:1px solid #cbd5e1;
  padding:2px 6px;
  border-radius:4px;
  background:#fff;
  color:#0f172a;
}

.header-bottom-right{
  display:flex; align-items:center; justify-content:flex-end;
}
.logout{
  color:#fff; text-decoration:none; font-weight:700;
}
.logout:hover{ text-decoration:underline; }

/* ===================================
   LAYOUT (sidebar + content)
=================================== */
.layout{
  display:grid;
  grid-template-columns: 200px 1fr;  /* sidebar ~200px */
  gap:16px;
  height: calc(100vh - 90px);
  padding: 8px;
}

/* ===================================
   SIDEBAR
=================================== */
.sidebar{
  background: var(--side);
  border-right:1px solid var(--border);
  padding:12px 8px;
  border-radius:6px 0 0 6px;
}

/* Botón tipo “pastilla” con flecha ► */
.menu-btn{
  width:100%;
  text-align:left;
  padding:12px 14px;
  margin:10px 0;
  border:1px solid #b5cde0;
  border-radius:8px;
  background: linear-gradient(to bottom, #f0f8ff, var(--blue-200));
  color:#0f3f66;
  font-weight:700;
  font-size:15px;
  cursor:pointer;
  display:flex; align-items:center; gap:10px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.75);
  transition: background .15s ease, border-color .15s ease, transform .05s ease;
}
.menu-btn::before{
  content:"►";
  font-size:12px;
  color:#1b5a8d;
  transform: translateY(1px);
}
.menu-btn:hover{
  background: linear-gradient(to bottom, #e6f2ff, var(--blue-300));
  border-color:#91b9d8;
}
.menu-btn:active{ transform: scale(.99); }
.menu-btn.is-active{
  background: linear-gradient(to bottom, #e6f2ff, #cfe7fb);
  border-color:#7fb0d6;
}
.menu-btn.is-active::before{ content:"▼"; }

/* ===================================
   MAIN CONTENT
=================================== */
.content{
  background:#fff;
  border:1px solid var(--border);
  border-radius:10px;
  margin-right:8px;
  min-height: calc(100vh - 120px);
}

/* ===================================
   RESPONSIVE
=================================== */

/* Desktop grande */
@media (min-width: 1200px){
  .header{ grid-template-columns: 320px 1fr; }
  .brand-plate{ height:52px; }
  .layout{ grid-template-columns: 220px 1fr; }
}

/* Desktop estándar */
@media (max-width: 1199px){
  .header{ grid-template-columns: 260px 1fr; }
  .brand-plate{ height:46px; }
  .layout{ grid-template-columns: 200px 1fr; }
}

/* Tablet horizontal */
@media (max-width: 1023px){
  .header{ grid-template-columns: 200px 1fr; }
  .header-bottom{ gap: 10px; }
  .layout{
    grid-template-columns: 180px 1fr;
    height: auto;
  }
  .content{ min-height: 60vh; }
}

/* Tablet vertical / móvil grande */
@media (max-width: 720px){
  .header{
    grid-template-columns: 1fr;
    grid-template-rows: auto auto 2px auto;
    row-gap: 6px;
    padding: 8px 10px;
  }
  .header-brand{
    grid-row: 1;
    grid-column: 1;
    justify-content: flex-start;
  }
  .brand-plate{ height:40px; }
  .logo-img{ width:40px; height:40px; }

  .header-top{
    grid-column: 1;
    grid-row: 2;
    grid-template-columns: 1fr;
    justify-items: center;
    text-align: center;
    padding: 0;
  }
  .header-title{
    font-size: clamp(16px, 4.2vw, 18px);
    line-height: 1.2;
    margin-bottom: 2px;
  }
  .header-top-right{
    justify-content: center;
    font-size: 11px;
    opacity:.9;
  }

  .header-sep{ grid-column: 1; grid-row: 3; }

  .header-bottom{
    grid-column: 1;
    grid-row: 4;
    grid-template-columns: 1fr;
    gap: 6px;
  }
  .header-bottom-left,
  .header-bottom-center,
  .header-bottom-right{
    justify-content: flex-start;
  }
  .rol{ padding: 4px 8px; font-size: 12px; }

  .layout{
    grid-template-columns: 1fr;
    gap: 12px;
    height: auto;
  }
  .sidebar{
    display: grid;
    grid-template-columns: repeat(2, minmax(0,1fr));
    gap: 8px;
    border-right: 0;
    border-bottom: 1px solid var(--border);
    border-radius: 6px;
    padding-bottom: 10px;
  }
  .menu-btn{
    margin: 0;
    font-size: 14px;
    padding: 10px 12px;
  }
  .content{
    margin-right: 0;
    min-height: 55vh;
  }
}

/* Móviles pequeños */
@media (max-width: 420px){
  .brand-plate{ height:34px; }
  .logo-img{ width:34px; height:34px; }

  .header-title{
    font-size: clamp(15px, 4.4vw, 17px);
    text-align: left;
  }
  .header-top-right{ font-size: 10px; }

  .sidebar{ grid-template-columns: 1fr; }
  .menu-btn{ font-size: 13.5px; padding: 10px 12px; }
}


